{"ast":null,"code":"import _asyncToGenerator from\"/Users/BOM/Desktop/WEB/react-project/react-beginner/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/BOM/Desktop/WEB/react-project/react-beginner/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/BOM/Desktop/WEB/react-project/react-beginner/node_modules/@babel/runtime/regenerator/index.js\";import{useCallback,useEffect,useState}from'react';import{useParams}from'react-router-dom';import MovieDetail from'../components/MovieDetail';import{jsx as _jsx}from\"react/jsx-runtime\";function Detail(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),movie=_useState4[0],setMovie=_useState4[1];var getMovie=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://yts.mx/api/v2/movie_details.json?movie_id=\".concat(id));case 2:_context.next=4;return _context.sent.json();case 4:json=_context.sent;setMovie(json.data.movie);setLoading(false);// console.log(json.data.movie.genres);\n// console.log(json)\n// 🚨 genres 부분에 쓰인 map함수에서 오류가 났는데 어떻게 해결을 해야할지 모르겠다.\ncase 7:case\"end\":return _context.stop();}}},_callee);})),[id]);useEffect(function(){getMovie();},[getMovie]);return loading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(MovieDetail,{title:movie.title_long,bgImg:movie.background_image_original,coverImg:movie.medium_cover_image,rating:movie.rating,runtime:movie.runtime// genres={movie.genres}\n,summary:movie.description_full});}export default Detail;","map":{"version":3,"sources":["/Users/BOM/Desktop/WEB/react-project/react-beginner/src/routes/Detail.js"],"names":["useCallback","useEffect","useState","useParams","MovieDetail","Detail","id","loading","setLoading","movie","setMovie","getMovie","fetch","json","data","title_long","background_image_original","medium_cover_image","rating","runtime","description_full"],"mappings":"8ZAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,C,2CAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,eAAeF,SAAS,EAAxB,CAAQG,EAAR,YAAQA,EAAR,CACA,cAA8BJ,QAAQ,CAAC,IAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,sEAAC,kKAEnBY,CAAAA,KAAK,6DAAsDN,EAAtD,EAFc,6CAGzBO,IAHyB,UACrBA,IADqB,eAI3BH,QAAQ,CAACG,IAAI,CAACC,IAAL,CAAUL,KAAX,CAAR,CACAD,UAAU,CAAC,KAAD,CAAV,CACA;AACA;AACA;AAR2B,sDAAD,GASzB,CAACF,EAAD,CATyB,CAA5B,CAWAL,SAAS,CAAC,UAAM,CACdU,QAAQ,GACT,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,MAAOJ,CAAAA,OAAO,cACZ,kCADY,cAEZ,KAAC,WAAD,EACE,KAAK,CAAEE,KAAK,CAACM,UADf,CAEE,KAAK,CAAEN,KAAK,CAACO,yBAFf,CAGE,QAAQ,CAAEP,KAAK,CAACQ,kBAHlB,CAIE,MAAM,CAAER,KAAK,CAACS,MAJhB,CAKE,OAAO,CAAET,KAAK,CAACU,OACf;AANF,CAOE,OAAO,CAAEV,KAAK,CAACW,gBAPjB,EAFF,CAYD,CAED,cAAef,CAAAA,MAAf","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport MovieDetail from '../components/MovieDetail'\n\nfunction Detail() {\n  const { id } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [movie, setMovie] = useState({});\n\n  const getMovie = useCallback(async () => {\n    const json = await (\n      await fetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`)\n    ).json();\n    setMovie(json.data.movie);\n    setLoading(false);\n    // console.log(json.data.movie.genres);\n    // console.log(json)\n    // 🚨 genres 부분에 쓰인 map함수에서 오류가 났는데 어떻게 해결을 해야할지 모르겠다.\n  }, [id])\n\n  useEffect(() => {\n    getMovie()\n  }, [getMovie]);\n\n  return loading ?\n    <h1>Loading...</h1> :\n    <MovieDetail\n      title={movie.title_long}\n      bgImg={movie.background_image_original}\n      coverImg={movie.medium_cover_image}\n      rating={movie.rating}\n      runtime={movie.runtime}\n      // genres={movie.genres}\n      summary={movie.description_full}\n    />\n\n}\n\nexport default Detail;"]},"metadata":{},"sourceType":"module"}